var cov_37qofksbo=function(){var path="C:\\dev\\novatec\\server\\controller\\TeamControler.js";var hash="cbcc57a4bf6aa297913f0b4237578e5cd9d23e95";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\dev\\novatec\\server\\controller\\TeamControler.js",statementMap:{"0":{start:{line:1,column:19},end:{line:1,column:55}},"1":{start:{line:3,column:23},end:{line:62,column:1}},"2":{start:{line:8,column:20},end:{line:8,column:22}},"3":{start:{line:10,column:8},end:{line:12,column:9}},"4":{start:{line:11,column:12},end:{line:11,column:61}},"5":{start:{line:22,column:8},end:{line:32,column:23}},"6":{start:{line:28,column:16},end:{line:31,column:18}},"7":{start:{line:36,column:17},end:{line:36,column:34}},"8":{start:{line:37,column:8},end:{line:39,column:11}},"9":{start:{line:38,column:12},end:{line:38,column:32}},"10":{start:{line:42,column:8},end:{line:45,column:11}},"11":{start:{line:44,column:12},end:{line:44,column:44}},"12":{start:{line:48,column:17},end:{line:48,column:34}},"13":{start:{line:49,column:8},end:{line:52,column:23}},"14":{start:{line:51,column:12},end:{line:51,column:32}},"15":{start:{line:55,column:17},end:{line:55,column:34}},"16":{start:{line:56,column:8},end:{line:59,column:11}},"17":{start:{line:58,column:12},end:{line:58,column:32}},"18":{start:{line:64,column:0},end:{line:64,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:7,column:4},end:{line:7,column:5}},loc:{start:{line:7,column:33},end:{line:34,column:5}},line:7},"1":{name:"(anonymous_1)",decl:{start:{line:27,column:12},end:{line:27,column:13}},loc:{start:{line:27,column:20},end:{line:32,column:9}},line:27},"2":{name:"(anonymous_2)",decl:{start:{line:35,column:4},end:{line:35,column:5}},loc:{start:{line:35,column:36},end:{line:40,column:5}},line:35},"3":{name:"(anonymous_3)",decl:{start:{line:37,column:28},end:{line:37,column:29}},loc:{start:{line:37,column:43},end:{line:39,column:9}},line:37},"4":{name:"(anonymous_4)",decl:{start:{line:41,column:4},end:{line:41,column:5}},loc:{start:{line:41,column:35},end:{line:46,column:5}},line:41},"5":{name:"(anonymous_5)",decl:{start:{line:43,column:14},end:{line:43,column:15}},loc:{start:{line:43,column:22},end:{line:45,column:9}},line:43},"6":{name:"(anonymous_6)",decl:{start:{line:47,column:4},end:{line:47,column:5}},loc:{start:{line:47,column:35},end:{line:53,column:5}},line:47},"7":{name:"(anonymous_7)",decl:{start:{line:50,column:14},end:{line:50,column:15}},loc:{start:{line:50,column:22},end:{line:52,column:9}},line:50},"8":{name:"(anonymous_8)",decl:{start:{line:54,column:4},end:{line:54,column:5}},loc:{start:{line:54,column:35},end:{line:60,column:5}},line:54},"9":{name:"(anonymous_9)",decl:{start:{line:57,column:18},end:{line:57,column:19}},loc:{start:{line:57,column:26},end:{line:59,column:9}},line:57}},branchMap:{"0":{loc:{start:{line:10,column:8},end:{line:12,column:9}},type:"if",locations:[{start:{line:10,column:8},end:{line:12,column:9}},{start:{line:10,column:8},end:{line:12,column:9}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{"0":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"cbcc57a4bf6aa297913f0b4237578e5cd9d23e95"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();const repository=(cov_37qofksbo.s[0]++,require('repository/TeamRepository'));const TeamController=(cov_37qofksbo.s[1]++,{list(request,response,next){cov_37qofksbo.f[0]++;let query=(cov_37qofksbo.s[2]++,{});cov_37qofksbo.s[3]++;if(request.query.name){cov_37qofksbo.b[0][0]++;cov_37qofksbo.s[4]++;query.name=new RegExp(request.query.name,'i');}else{cov_37qofksbo.b[0][1]++;}/*repository.listAsync(query)
            .then( data=> {
                        response.json({ 
                            itens: data,
                            total: data.length
                })
            }).catch(next); */cov_37qofksbo.s[5]++;Promise.all([repository.listAsync(query),repository.countAsync(query)]).then(data=>{cov_37qofksbo.f[1]++;cov_37qofksbo.s[6]++;response.json({itens:data[0],total:data[1]});}).catch(next);},getById(request,response,next){cov_37qofksbo.f[2]++;let id=(cov_37qofksbo.s[7]++,request.params.id);cov_37qofksbo.s[8]++;repository.byId(id,(err,data)=>{cov_37qofksbo.f[3]++;cov_37qofksbo.s[9]++;response.json(data);});},create(request,response,next){cov_37qofksbo.f[4]++;cov_37qofksbo.s[10]++;repository.createAsync(request.body).then(data=>{cov_37qofksbo.f[5]++;cov_37qofksbo.s[11]++;response.status(201).json(data);});},update(request,response,next){cov_37qofksbo.f[6]++;let id=(cov_37qofksbo.s[12]++,request.params.id);cov_37qofksbo.s[13]++;repository.updateAsync(id,request.body).then(data=>{cov_37qofksbo.f[7]++;cov_37qofksbo.s[14]++;response.json(data);}).catch(next);},delete(request,response,next){cov_37qofksbo.f[8]++;let id=(cov_37qofksbo.s[15]++,request.params.id);cov_37qofksbo.s[16]++;repository.deleteAsync(id).then(data=>{cov_37qofksbo.f[9]++;cov_37qofksbo.s[17]++;response.json(data);});}});cov_37qofksbo.s[18]++;module.exports=TeamController;